version: '1.0'

services:
    influxdb:
        image: kaphagel/influxdb:1.8
        container_name: ${CONTAINER_PREFIX}_influxdb
        ports:
            - ${INFLUXDB_PORT}:${INFLUXDB_PORT}
        volumes:
            - /var/lib/promobas/influxdb:/var/lib/influxdb
        restart: always
        networks:
            - backend
            - frontend
    modbusserver:
        image: kaphagel/modbusserver:1.0
        container_name: ${CONTAINER_PREFIX}_modbusserver
        volumes:
            - /var/lib/promobas/modbusserver:/etc/modbusserver
        ports: 
            - 502:502
        restart: always
        networks:
            - frontend
networks:
    backend:
    frontend:
